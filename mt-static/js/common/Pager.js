Pager=new Class(Component,{initObject:function(element,list,templateName){arguments.callee.applySuper(this,arguments);if(!templateName)
throw"Pager requires a template name";this.templateName=templateName;list.addObserver(this);this.state={total:0,pages:1,currentPage:1,perPage:0};},listTotal:function(listobj,total,currentPage,perPage,count){this.state={total:parseInt(total),pages:Math.ceil(total/perPage),currentPage:parseInt(currentPage),perPage:parseInt(perPage),count:parseInt(count)};this.render();},render:function(){this.element.innerHTML=Template.process(this.templateName,this.state);},eventClick:function(event){var command=this.getMouseEventCommand(event);if(!command)return;var m=command.match(/page-(\d+)/);if(m){this.broadcastToObservers("pagerPageChange",this,m[1]);return event.stop();}}});